from hero import Hero
from monster import Monster

def start_battle(hero: Hero, monster: Monster):
    """æˆ¦é—˜ã®ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè¡Œã™ã‚‹"""
    print("===================================")
    print(f" æˆ¦é—˜é–‹å§‹ï¼ {hero.name} VS {monster.name} ")
    print("===================================")

    # æˆ¦é—˜ãŒç¶šãæ¡ä»¶: ä¸¡è€…ãŒç”Ÿãã¦ã„ã‚‹é–“
    turn = 1
    while hero.is_alive() and monster.is_alive():
        print(f"\n>>>> ã‚¿ãƒ¼ãƒ³ {turn} <<<<")
        
        # ------------------------------------------------
        # ðŸ’¡ ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã®æ ¸å¿ƒ
        # ------------------------------------------------
        # heroã¯Heroã‚¯ãƒ©ã‚¹ã®act()ãŒå®Ÿè¡Œã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’å‡¦ç†ã™ã‚‹
        hero.act(monster)
        
        # monsterã¯Monsterã‚¯ãƒ©ã‚¹ã®act()ãŒå®Ÿè¡Œã•ã‚Œã€å˜ç´”æ”»æ’ƒã‚’å®Ÿè¡Œã™ã‚‹
        # åŒã˜ act() ã¨ã„ã†åå‰ã§ã‚‚ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç¨®é¡žã«ã‚ˆã£ã¦æŒ¯ã‚‹èˆžã„ãŒç•°ãªã‚‹ï¼
        if monster.is_alive(): # ãƒ’ãƒ¼ãƒ­ãƒ¼ã®æ”»æ’ƒã§å€’ã‚Œã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯
            monster.act(hero) 
        
        print("\n--- ã‚¿ãƒ¼ãƒ³çµ‚äº†å¾Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ ---")
        print(hero)
        print(monster)
        
        turn += 1

    # æˆ¦é—˜çµ‚äº†å¾Œã®çµæžœè¡¨ç¤º
    print("\n===================================")
    if hero.is_alive():
        print(f" ðŸŽŠ {hero.name} ã®å‹åˆ©ï¼ ðŸŽŠ")
    elif monster.is_alive():
        print(f" ðŸ’€ {monster.name} ã®å‹åˆ©... ðŸ’€")
    else:
        print(" ä¸¡è€…ã¨ã‚‚åŠ›å°½ããŸï¼å¼•ãåˆ†ã‘ã€‚ ")
    print("===================================")

# ãƒ¡ã‚¤ãƒ³å‡¦ç†
if __name__ == "__main__":
    # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆ
    player = Hero("ã‚¢ãƒ¬ã‚¹", 120, 25, 50)
    enemy = Monster("ã‚ªãƒ¼ã‚¬", 90, 18)

    # æˆ¦é—˜é–‹å§‹
    start_battle(player, enemy)